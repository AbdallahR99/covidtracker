"use strict";(self.webpackChunkcovidtracker=self.webpackChunkcovidtracker||[]).push([[248],{8248:(Q,g,r)=>{r.r(g),r.d(g,{CountryModule:()=>I});var c=r(1034),m=(r(4588),r(2340)),y=r(76),t=r(1571),C=r(1481),u=r(6895),f=r(6553),h=r(1572),p=r(4859);function v(n,e){1&n&&(t.TgZ(0,"div",23),t._UZ(1,"mat-spinner"),t.qZA())}function D(n,e){}function x(n,e){}function b(n,e){}function T(n,e){}function _(n,e){1&n&&(t.TgZ(0,"div",23),t._UZ(1,"mat-spinner"),t.qZA())}const Z=function(n){return[n]},L=function(n,e){return{label:"Total",total:n,secondLabel:"today",secondTotal:e,color:"info"}},w=function(n,e){return{label:"Critical",total:n,secondLabel:"in Mild Condition",secondTotal:e,color:"warning"}},A=function(n,e){return{label:"Recovered",total:n,secondLabel:"remaining",secondTotal:e,color:"success"}},O=function(n,e){return{label:"Deaths",total:n,secondLabel:"new",secondTotal:e,color:"danger"}};function U(n,e){if(1&n&&(t.TgZ(0,"div",3)(1,"div",4)(2,"h1",5)(3,"img",6),t.NdJ("error",function(a){return a.target.src="https://www.svgrepo.com/show/195643/planet-earth-worldwide.svg"}),t.ALo(4,"lowercase"),t.qZA(),t._UZ(5,"span",7),t.TgZ(6,"span"),t._uU(7),t.qZA()(),t.TgZ(8,"div")(9,"a",8)(10,"div",9)(11,"span"),t._uU(12," Back to Home "),t.qZA(),t._UZ(13,"div",7),t.TgZ(14,"span",10),t._uU(15," arrow_forward "),t.qZA()()()()(),t.TgZ(16,"div",11)(17,"div",12)(18,"div",13),t._UZ(19,"div",14),t.YNc(20,v,2,0,"div",15),t.qZA()(),t.TgZ(21,"div",16)(22,"div",17),t.YNc(23,D,0,0,"ng-template",18),t.YNc(24,x,0,0,"ng-template",18),t.ALo(25,"number"),t.YNc(26,b,0,0,"ng-template",18),t.ALo(27,"number"),t.YNc(28,T,0,0,"ng-template",18),t.qZA()()(),t._UZ(29,"div",19),t.TgZ(30,"div",13)(31,"div",20),t._UZ(32,"div",21)(33,"div",22),t.qZA(),t.YNc(34,_,2,0,"div",15),t.qZA()()),2&n){const o=t.oxw(),a=t.MAs(4);t.xp6(3),t.Q6J("src",null!=o.countryData&&o.countryData.countryCode?"https://flagcdn.com/32x24/"+t.lcZ(4,14,null==o.countryData?null:o.countryData.countryCode)+".png":"https://www.svgrepo.com/show/195643/planet-earth-worldwide.svg",t.LSH)("alt",null==o.countryData?null:o.countryData.countryName),t.xp6(4),t.hij("",null==o.countryData?null:o.countryData.countryName,"'s Covid-19 Statistics"),t.xp6(2),t.Q6J("routerLink",t.VKq(20,Z,o.appRoutes.HOME)),t.xp6(11),t.Q6J("ngIf",!o.isPieChartLoaded),t.xp6(3),t.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",t.WLB(22,L,null==o.countryData||null==o.countryData.cases?null:o.countryData.cases.total,null==o.countryData||null==o.countryData.cases?null:o.countryData.cases.new)),t.xp6(1),t.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",t.WLB(25,w,null==o.countryData||null==o.countryData.cases?null:o.countryData.cases.critical,t.lcZ(25,16,o.midConditionsCount))),t.xp6(2),t.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",t.WLB(28,A,null==o.countryData||null==o.countryData.cases?null:o.countryData.cases.total,t.lcZ(27,18,o.remainingCount))),t.xp6(2),t.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",t.WLB(31,O,null==o.countryData||null==o.countryData.deaths?null:o.countryData.deaths.total,null==o.countryData||null==o.countryData.deaths?null:o.countryData.deaths.new)),t.xp6(6),t.Q6J("ngIf",!o.isPieChartLoaded)}}function z(n,e){1&n&&(t.ynx(0),t._UZ(1,"app-error"),t.BQk())}function J(n,e){1&n&&(t.ynx(0),t._UZ(1,"app-error",24),t.BQk())}function N(n,e){if(1&n&&(t.TgZ(0,"div",25)(1,"p",26),t._uU(2),t.qZA(),t.TgZ(3,"div",4),t._UZ(4,"div"),t.TgZ(5,"div",27)(6,"span"),t._uU(7),t.ALo(8,"number"),t.qZA(),t.TgZ(9,"span",28)(10,"bdi"),t._uU(11),t.qZA(),t._uU(12,"\xa0"),t.TgZ(13,"bdi"),t._uU(14),t.qZA()()()(),t._UZ(15,"div"),t.qZA()),2&n){const o=e.label,a=e.total,i=e.secondLabel,l=e.secondTotal,d=e.color;t.xp6(2),t.Oqu(o),t.xp6(4),t.Gre("text-",d," mb-1 h3"),t.xp6(1),t.hij(" ",t.lcZ(8,10,a)," "),t.xp6(4),t.Oqu(l),t.xp6(3),t.Oqu(i),t.xp6(1),t.Gre("pt-1 bg-",d," rounded-pill")}}const B=[{path:"",component:(()=>{class n{constructor(o,a,i){this.activatedRoute=o,this.ngZone=a,this.title=i,this.isPieChartLoaded=!1,this.isLineChartLoaded=!1,this.isError=!1,this.isChartLoaded=!1}get notFound(){return!this.countryData||!this.countryHistory}get midConditionsCount(){return(this.countryData?.cases?.active??0)-(this.countryData?.cases?.critical??0)}get remainingCount(){return(this.countryData?.cases?.total??0)-(this.countryData?.deaths?.total??0)-(this.countryData?.cases?.recovered??0)}get appRoutes(){return y.$}ngOnInit(){const o=this.activatedRoute.snapshot.data.resolverData;console.table(o),o.countryData&&(this.countryData=o.countryData,this.title.setTitle(this.countryData?.countryName+"s Covid-19 Statistics"),this.loadGoogleChart()),o.countryHistory&&(this.countryHistory=o.countryHistory),this.isError=o.countryHistoryError||o.countryDataError}loadGoogleChart(){!this.countryData||(google.charts.load("current",{packages:["geochart","corechart","controls"],mapsApiKey:m.N.googleApiKey}),google.charts.setOnLoadCallback(this.onGoogleChartLoad.bind(this)))}onGoogleChartLoad(){this.isChartLoaded=!0,this.loadCharts()}loadCharts(){!this.isChartLoaded||(this.drawLineChart(),this.drawPieChart())}drawPieChart(){this.isPieChartLoaded=!1;const o=google.visualization.arrayToDataTable([["Case","Count"],["Mild Conditions",this.midConditionsCount],["Critical",this.countryData?.cases?.critical],["Active",this.countryData?.cases?.active],["Deaths",this.countryData?.deaths?.total],["Recovered",this.countryData?.cases?.recovered]]),i=new google.visualization.PieChart(document.getElementById("piechart"));google.visualization.events.addListener(i,"ready",(()=>{this.isPieChartLoaded=!0}).bind(this)),i.draw(o,{sliceVisibilityThreshold:0,chartArea:{left:"25%",width:"100%",height:"100%",backgroundColor:{strokeWidth:0}},backgroundColor:"rgb(52, 66, 78)",legend:{textStyle:{color:"#fff"}},colors:["rgb(13, 202, 240)","#ffc107","#6c5ce7","#ee5253","#1DD1A1"]})}drawLineChart(){if(this.isLineChartLoaded=!0,!this.countryHistory)return;const o=[...this.countryHistory.map(s=>[new Date(s.time),s?.cases?.total??0,s?.deaths?.total??0,s?.cases?.active??0,s?.cases?.recovered??0,s?.cases?.critical??0])],a=google.visualization.arrayToDataTable([["Date","Cases","Deaths","Active","Recovered","Critical"],...o]),l=new google.visualization.Dashboard(document.getElementById("dashboard_div")),d=new google.visualization.ControlWrapper({controlType:"DateRangeFilter",containerId:"filter_div",options:{filterColumnIndex:0,filterColumnLabel:"Date ranger filter",ui:{useClass:"google-date-range"}}}),H=new google.visualization.ChartWrapper({chartType:"LineChart",containerId:"curve_chart",options:{backgroundColor:"rgb(52, 66, 78)",legend:{position:"bottom",textStyle:{color:"#fff"}},colors:["rgb(13, 202, 240)","#ee5253","#6c5ce7","#1DD1A1","#ffc107"],hAxis:{textStyle:{color:"#fff"}},vAxis:{textStyle:{color:"#fff"}}}});l.bind(d,H),google.visualization.events.addListener(l,"ready",(()=>{this.isLineChartLoaded=!0}).bind(this)),l.draw(a)}}return n.\u0275fac=function(o){return new(o||n)(t.Y36(c.gz),t.Y36(t.R0b),t.Y36(C.Dx))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-country"]],hostBindings:function(o,a){1&o&&t.NdJ("resize",function(l){return a.loadCharts(l)},!1,t.Jf7)},decls:5,vars:3,consts:[["class","container",4,"ngIf"],[4,"ngIf"],["summaryCard",""],[1,"container"],[1,"d-flex","justify-content-between"],[1,"text-white"],["width","32","height","24",3,"src","alt","error"],[1,"px-1"],["mat-button","","color","accent",3,"routerLink"],[1,"d-flex","align-items-center","justify-content-between"],[1,"material-icons","d-flex"],[1,"row","g-2"],[1,"col-12","col-md-6","col-lg-8"],[1,"d-flex","bg-primary","text-light","p-3","h-100","rounded-3","shadow-sm","position-relative"],["id","piechart",2,"width","100%","min-height","300px","height","100%"],["class","loader position-absolute rounded-3 top-0 start-0 end-0 bottom-0 d-flex align-items-center justify-content-center",4,"ngIf"],[1,"col-12","col-md-6","col-lg-4"],[1,"bg-primary","text-light","p-3","h-100","rounded-3","shadow-sm","d-flex","flex-column"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-1"],["id","dashboard_div",2,"width","100%","min-height","300px","height","100%"],["id","filter_div",1,"overflow-hidden"],["id","curve_chart"],[1,"loader","position-absolute","rounded-3","top-0","start-0","end-0","bottom-0","d-flex","align-items-center","justify-content-center"],["errorMessage","Not Found"],[1,"mb-3"],[1,"m-0","h2","flex-fill"],[1,"d-flex","flex-column","mb-2","text-end"],[1,"text-border","small"]],template:function(o,a){1&o&&(t.YNc(0,U,35,34,"div",0),t.YNc(1,z,2,0,"ng-container",1),t.YNc(2,J,2,0,"ng-container",1),t.YNc(3,N,16,12,"ng-template",null,2,t.W1O)),2&o&&(t.Q6J("ngIf",!a.isError&&!a.notFound),t.xp6(1),t.Q6J("ngIf",a.isError),t.xp6(1),t.Q6J("ngIf",a.notFound))},dependencies:[u.O5,u.tP,f.q,c.yS,h.Ou,p.zs,u.i8,u.JJ],styles:["[_nghost-%COMP%]     .google-visualization-controls-rangefilter-thumblabel{color:#fff!important;font-weight:unset!important}[_nghost-%COMP%]     .google-visualization-controls-slider-thumb{background-color:#0dcaf0!important;border-color:#0dcaf0!important;border-radius:100px!important}[_nghost-%COMP%]     .google-visualization-controls-slider-horizontal{border-radius:50rem!important;border:1px solid rgba(0,0,0,.3)!important;background-color:#778ca3!important}"]}),n})()}];let M=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[c.Bz.forChild(B),c.Bz]}),n})();var R=r(4462);let I=(()=>{class n{}return n.\u0275fac=function(o){return new(o||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[R.m,M,h.Cq,p.ot]}),n})()}}]);